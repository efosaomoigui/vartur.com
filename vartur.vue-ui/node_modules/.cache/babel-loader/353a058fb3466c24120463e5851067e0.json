{"remainingRequest":"C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\src\\pages\\UserProfile\\CategoryLinkForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\src\\pages\\UserProfile\\CategoryLinkForm.vue","mtime":1690717612123},{"path":"C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\.babelrc","mtime":1690342297061},{"path":"C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1690342753077},{"path":"C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1690342753580},{"path":"C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1690342753077},{"path":"C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1690342762655}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvRWZlLURldi9EZXNrdG9wL3ZhcnR1ci5jb20uZmFzdGlmeS92dWUtdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgQ2FyZCBmcm9tICJzcmMvY29tcG9uZW50cy9DYXJkcy9DYXJkLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBDYXJkOiBDYXJkCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2F0ZWdvcnk6IHsKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBwaWN0dXJlOiAiIiwKICAgICAgICBwYXJlbnRfaWQ6ICIiCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgY2F0ZWdvcmllczogZnVuY3Rpb24gY2F0ZWdvcmllcygpIHsKICAgICAgcmV0dXJuIFt7CiAgICAgICAgaWQ6IDEsCiAgICAgICAgbmFtZTogIkNhdGVnb3J5IDEiCiAgICAgIH0sIHsKICAgICAgICBpZDogMiwKICAgICAgICBuYW1lOiAiQ2F0ZWdvcnkgMiIKICAgICAgfV07CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVGaWxlVXBsb2FkOiBmdW5jdGlvbiBoYW5kbGVGaWxlVXBsb2FkKGV2ZW50KSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRGaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdOwogICAgICBjb25zb2xlLmxvZygiZmlsZSIsIHRoaXMuc2VsZWN0ZWRGaWxlKTsKICAgIH0sCiAgICBhZGRDYXRlZ29yeTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2FkZENhdGVnb3J5ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBmZCwgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgZmQgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5LmZpbGUgPSB0aGlzLnNlbGVjdGVkRmlsZTsKCiAgICAgICAgICAgICAgLy8gQXBwZW5kIHByb3BlcnRpZXMgZnJvbSBjYXRlZ29yeURhdGEgdG8gdGhlIEZvcm1EYXRhCiAgICAgICAgICAgICAgZmQuYXBwZW5kKCJuYW1lIiwgdGhpcy5jYXRlZ29yeS5uYW1lKTsKICAgICAgICAgICAgICBmZC5hcHBlbmQoInBhcmVudF9pZCIsIHRoaXMuY2F0ZWdvcnkucGFyZW50X2lkKTsKICAgICAgICAgICAgICBmZC5hcHBlbmQoInBpY3R1cmUiLCAicnJycnIiKTsKICAgICAgICAgICAgICBmZC5hcHBlbmQoImZpbGUiLCB0aGlzLnNlbGVjdGVkRmlsZSk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coIlJlc3VsdCBmZDogIiwgZmQpOwogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA3OwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9jYXRlZ29yaWVzLyIsIGZkKTsKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE2OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMzsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDcpOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJSZXN1bHQ6ICIsIF9jb250ZXh0LnQwKTsKICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5LmluZm8gPSAiYWxlcnQgYWxlcnQtaW5mbyB0ZXh0LWRhcmsiOwogICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnkubWVzc2FnZSA9ICJDYXRlZ29yeSBDcmVhdGVkIFN1Y2Nlc3NmdWxseSEiOwogICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcywgW1s3LCAxM11dKTsKICAgICAgfSkpOwogICAgICBmdW5jdGlvbiBhZGRDYXRlZ29yeSgpIHsKICAgICAgICByZXR1cm4gX2FkZENhdGVnb3J5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KICAgICAgcmV0dXJuIGFkZENhdGVnb3J5OwogICAgfSgpCiAgfQp9Ow=="},{"version":3,"names":["Card","components","data","category","name","picture","parent_id","computed","categories","id","methods","handleFileUpload","event","selectedFile","target","files","console","log","addCategory","_addCategory","_asyncToGenerator","regeneratorRuntime","mark","_callee","fd","response","wrap","_callee$","_context","prev","next","FormData","file","append","axios","post","sent","t0","info","message","stop","apply","arguments"],"sources":["src/pages/UserProfile/CategoryLinkForm.vue"],"sourcesContent":["<template>\n  <card>\n    <!-- <pre>\n      {{ JSON.stringify(category, null, 2) }}\n    </pre> -->\n\n    <form @submit.prevent=\"addCategory\">\n      <div class=\"row\">\n        <div class=\"col-md-6\">\n          <base-input\n            type=\"text\"\n            label=\"Category\"\n            :disabled=\"false\"\n            placeholder=\"ss\"\n            v-model=\"category.name\"\n          >\n          </base-input>\n        </div>\n\n        <div class=\"col-md-6\">\n          <div class=\"form-group\">\n            <label for=\"parentCategory\">Parent Category:</label>\n            <select class=\"form-control\" v-model=\"category.parent_id\" required>\n              <option\n                v-for=\"category in categories\"\n                :key=\"category.id\"\n                :value=\"category.id\"\n              >\n                {{ category.name }}\n              </option>\n            </select>\n          </div>\n        </div>\n\n        <div class=\"col-md-12\">\n          <div class=\"form-group\">\n            <label for=\"categoryImage\">Picture: &nbsp;</label>\n            <input type=\"file\" @change=\"handleFileUpload\" />\n          </div>\n        </div>\n      </div>\n\n      <div class=\"text-center\">\n        <button type=\"submit\" class=\"btn btn-info btn-fill float-right\">\n          Add Parent Category\n        </button>\n      </div>\n\n      <div class=\"clearfix\"></div>\n    </form>\n  </card>\n</template>\n<script>\nimport Card from \"src/components/Cards/Card.vue\";\n\nexport default {\n  components: {\n    Card,\n  },\n  data() {\n    return {\n      category: {\n        name: \"\",\n        picture: \"\",\n        parent_id: \"\",\n      },\n    };\n  },\n  computed: {\n    categories() {\n      return [\n        { id: 1, name: \"Category 1\" },\n        { id: 2, name: \"Category 2\" },\n      ];\n    },\n  },\n  methods: {\n    handleFileUpload(event) {\n      this.selectedFile = event.target.files[0];\n      console.log(\"file\", this.selectedFile);\n    },\n    async addCategory() {\n      const fd = new FormData();\n      this.category.file = this.selectedFile;\n\n      // Append properties from categoryData to the FormData\n      fd.append(\"name\", this.category.name);\n      fd.append(\"parent_id\", this.category.parent_id);\n      fd.append(\"picture\", \"rrrrr\");\n      fd.append(\"file\", this.selectedFile);\n      console.log(\"Result fd: \", fd);\n\n      try {\n        const response = await axios.post(\n          \"http://localhost:3000/api/categories/\",\n          fd\n        );\n\n        // console.log(\"==>> \", response.data);\n      } catch (error) {\n        console.log(\"Result: \", error);\n      }\n\n      this.category.info = \"alert alert-info text-dark\";\n      this.category.message = \"Category Created Successfully!\";\n    },\n  },\n};\n</script>\n<style></style>\n"],"mappings":";;AAqDA,OAAAA,IAAA;AAEA;EACAC,UAAA;IACAD,IAAA,EAAAA;EACA;EACAE,IAAA,WAAAA,KAAA;IACA;MACAC,QAAA;QACAC,IAAA;QACAC,OAAA;QACAC,SAAA;MACA;IACA;EACA;EACAC,QAAA;IACAC,UAAA,WAAAA,WAAA;MACA,QACA;QAAAC,EAAA;QAAAL,IAAA;MAAA,GACA;QAAAK,EAAA;QAAAL,IAAA;MAAA,EACA;IACA;EACA;EACAM,OAAA;IACAC,gBAAA,WAAAA,iBAAAC,KAAA;MACA,KAAAC,YAAA,GAAAD,KAAA,CAAAE,MAAA,CAAAC,KAAA;MACAC,OAAA,CAAAC,GAAA,cAAAJ,YAAA;IACA;IACAK,WAAA;MAAA,IAAAC,YAAA,GAAAC,iBAAA,eAAAC,kBAAA,CAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,EAAA,EAAAC,QAAA;QAAA,OAAAJ,kBAAA,CAAAK,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACAN,EAAA,OAAAO,QAAA;cACA,KAAA5B,QAAA,CAAA6B,IAAA,QAAAnB,YAAA;;cAEA;cACAW,EAAA,CAAAS,MAAA,cAAA9B,QAAA,CAAAC,IAAA;cACAoB,EAAA,CAAAS,MAAA,mBAAA9B,QAAA,CAAAG,SAAA;cACAkB,EAAA,CAAAS,MAAA;cACAT,EAAA,CAAAS,MAAA,cAAApB,YAAA;cACAG,OAAA,CAAAC,GAAA,gBAAAO,EAAA;cAAAI,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAGAI,KAAA,CAAAC,IAAA,CACA,yCACAX,EACA;YAAA;cAHAC,QAAA,GAAAG,QAAA,CAAAQ,IAAA;cAAAR,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAS,EAAA,GAAAT,QAAA;cAOAZ,OAAA,CAAAC,GAAA,aAAAW,QAAA,CAAAS,EAAA;YAAA;cAGA,KAAAlC,QAAA,CAAAmC,IAAA;cACA,KAAAnC,QAAA,CAAAoC,OAAA;YAAA;YAAA;cAAA,OAAAX,QAAA,CAAAY,IAAA;UAAA;QAAA,GAAAjB,OAAA;MAAA;MAAA,SAAAL,YAAA;QAAA,OAAAC,YAAA,CAAAsB,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAAxB,WAAA;IAAA;EAEA;AACA"}]}