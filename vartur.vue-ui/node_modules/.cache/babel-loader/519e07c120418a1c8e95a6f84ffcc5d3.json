{"remainingRequest":"C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\src\\pages\\UserProfile\\CategoryForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\src\\pages\\UserProfile\\CategoryForm.vue","mtime":1690782136907},{"path":"C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\.babelrc","mtime":1690342297061},{"path":"C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1690342753077},{"path":"C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1690342753580},{"path":"C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1690342753077},{"path":"C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1690342762655}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvRWZlLURldi9EZXNrdG9wL3ZhcnR1ci5jb20uZmFzdGlmeS92dWUtdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgQ2FyZCBmcm9tICJzcmMvY29tcG9uZW50cy9DYXJkcy9DYXJkLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBDYXJkOiBDYXJkCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2F0ZWdvcnk6IHsKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBwYXJlbnRfaWQ6IDAsCiAgICAgICAgcGljdHVyZTogIiIsCiAgICAgICAgZmlsZTogIiIKICAgICAgfSwKICAgICAgc2VsZWN0ZWRGaWxlOiBudWxsLAogICAgICBtZXNzYWdlOiAiIiwKICAgICAgaW5mbzogIiIsCiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIHJlbG9hZEtleTogMAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUZpbGVVcGxvYWQ6IGZ1bmN0aW9uIGhhbmRsZUZpbGVVcGxvYWQoZXZlbnQpIHsKICAgICAgdGhpcy5zZWxlY3RlZEZpbGUgPSBldmVudC50YXJnZXQuZmlsZXNbMF07CiAgICAgIGNvbnNvbGUubG9nKCJmaWxlIiwgdGhpcy5zZWxlY3RlZEZpbGUpOwogICAgfSwKICAgIGZldGNoQ2F0ZWdvcmllczogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2ZldGNoQ2F0ZWdvcmllcyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9jYXRlZ29yaWVzIik7CiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgdGhpcy50YWJsZURhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA3OwogICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgZmV0Y2hpbmcgY2F0ZWdvcmllczoiLCBfY29udGV4dC50MCk7CiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzLCBbWzAsIDddXSk7CiAgICAgIH0pKTsKICAgICAgZnVuY3Rpb24gZmV0Y2hDYXRlZ29yaWVzKCkgewogICAgICAgIHJldHVybiBfZmV0Y2hDYXRlZ29yaWVzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KICAgICAgcmV0dXJuIGZldGNoQ2F0ZWdvcmllczsKICAgIH0oKSwKICAgIGFkZENhdGVnb3J5OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfYWRkQ2F0ZWdvcnkgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBmZCwgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGZkID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICAgICAgdGhpcy5jYXRlZ29yeS5maWxlID0gdGhpcy5zZWxlY3RlZEZpbGU7CgogICAgICAgICAgICAgIC8vIEFwcGVuZCBwcm9wZXJ0aWVzIGZyb20gY2F0ZWdvcnlEYXRhIHRvIHRoZSBGb3JtRGF0YQogICAgICAgICAgICAgIGZkLmFwcGVuZCgibmFtZSIsIHRoaXMuY2F0ZWdvcnkubmFtZSk7CiAgICAgICAgICAgICAgZmQuYXBwZW5kKCJwYXJlbnRfaWQiLCB0aGlzLmNhdGVnb3J5LnBhcmVudF9pZCk7CiAgICAgICAgICAgICAgZmQuYXBwZW5kKCJwaWN0dXJlIiwgInJycnJyIik7CiAgICAgICAgICAgICAgZmQuYXBwZW5kKCJmaWxlIiwgdGhpcy5zZWxlY3RlZEZpbGUpOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJSZXN1bHQgZmQ6ICIsIGZkKTsKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDc7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMDsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9jYXRlZ29yaWVzLyIsIGZkKTsKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIHRoaXMuJGVtaXQoImNhdGVnb3J5LWNyZWF0ZWQiKTsKICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5LmluZm8gPSAiYWxlcnQgYWxlcnQtaW5mbyB0ZXh0LWRhcmsiOwogICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnkubWVzc2FnZSA9ICJDYXRlZ29yeSBDcmVhdGVkIFN1Y2Nlc3NmdWxseSEiOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxNjsKICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oNyk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coIlJlc3VsdDogIiwgX2NvbnRleHQyLnQwKTsKICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcywgW1s3LCAxNl1dKTsKICAgICAgfSkpOwogICAgICBmdW5jdGlvbiBhZGRDYXRlZ29yeSgpIHsKICAgICAgICByZXR1cm4gX2FkZENhdGVnb3J5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KICAgICAgcmV0dXJuIGFkZENhdGVnb3J5OwogICAgfSgpCiAgfQp9Ow=="},{"version":3,"names":["axios","Card","components","data","category","name","parent_id","picture","file","selectedFile","message","info","tableData","reloadKey","methods","handleFileUpload","event","target","files","console","log","fetchCategories","_fetchCategories","_asyncToGenerator","regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","sent","t0","error","stop","apply","arguments","addCategory","_addCategory","_callee2","fd","_callee2$","_context2","FormData","append","post","$emit"],"sources":["src/pages/UserProfile/CategoryForm.vue"],"sourcesContent":["<template>\n  <card>\n    <!-- <pre>\n      {{ JSON.stringify(category, null, 2) }}\n    </pre> -->\n    <form @submit.prevent=\"addCategory\" enctype=\"multipart/form-data\">\n      <div class=\"row\">\n        <div class=\"col-12\">\n          <div v-bind:class=\"category.info\">\n            {{ category.message }}\n          </div>\n        </div>\n      </div>\n\n      <div class=\"row\">\n        <div class=\"col-md-12\">\n          <base-input\n            type=\"text\"\n            label=\"Category\"\n            :disabled=\"false\"\n            placeholder=\"\"\n            v-model=\"category.name\"\n          >\n          </base-input>\n        </div>\n        <div class=\"col-md-12\">\n          <div class=\"form-group\">\n            <label for=\"picture\">Picture: &nbsp;</label>\n            <input type=\"file\" @change=\"handleFileUpload\" />\n          </div>\n        </div>\n      </div>\n\n      <div class=\"text-center\">\n        <button type=\"submit\" class=\"btn btn-info btn-fill float-right\">\n          Add Parent Category\n        </button>\n      </div>\n      <div class=\"clearfix\"></div>\n    </form>\n  </card>\n</template>\n<script>\nimport axios from \"axios\";\nimport Card from \"src/components/Cards/Card.vue\";\n\nexport default {\n  components: {\n    Card,\n  },\n  data() {\n    return {\n      category: {\n        name: \"\",\n        parent_id: 0,\n        picture: \"\",\n        file: \"\",\n      },\n      selectedFile: null,\n      message: \"\",\n      info: \"\",\n      tableData: [],\n      reloadKey: 0,\n    };\n  },\n  methods: {\n    handleFileUpload(event) {\n      this.selectedFile = event.target.files[0];\n      console.log(\"file\", this.selectedFile);\n    },\n\n    async fetchCategories() {\n      try {\n        const response = await axios.get(\n          \"http://localhost:3000/api/categories\"\n        );\n        this.tableData = response.data;\n      } catch (error) {\n        console.error(\"Error fetching categories:\", error);\n      }\n    },\n    async addCategory() {\n      const fd = new FormData();\n      this.category.file = this.selectedFile;\n\n      // Append properties from categoryData to the FormData\n      fd.append(\"name\", this.category.name);\n      fd.append(\"parent_id\", this.category.parent_id);\n      fd.append(\"picture\", \"rrrrr\");\n      fd.append(\"file\", this.selectedFile);\n      console.log(\"Result fd: \", fd);\n\n      try {\n        const response = await axios.post(\n          \"http://localhost:3000/api/categories/\",\n          fd\n        );\n\n        this.$emit(\"category-created\");\n        this.category.info = \"alert alert-info text-dark\";\n        this.category.message = \"Category Created Successfully!\";\n      } catch (error) {\n        console.log(\"Result: \", error);\n      }\n    },\n  },\n};\n</script>\n<style></style>\n"],"mappings":";;AA2CA,OAAAA,KAAA;AACA,OAAAC,IAAA;AAEA;EACAC,UAAA;IACAD,IAAA,EAAAA;EACA;EACAE,IAAA,WAAAA,KAAA;IACA;MACAC,QAAA;QACAC,IAAA;QACAC,SAAA;QACAC,OAAA;QACAC,IAAA;MACA;MACAC,YAAA;MACAC,OAAA;MACAC,IAAA;MACAC,SAAA;MACAC,SAAA;IACA;EACA;EACAC,OAAA;IACAC,gBAAA,WAAAA,iBAAAC,KAAA;MACA,KAAAP,YAAA,GAAAO,KAAA,CAAAC,MAAA,CAAAC,KAAA;MACAC,OAAA,CAAAC,GAAA,cAAAX,YAAA;IACA;IAEAY,eAAA;MAAA,IAAAC,gBAAA,GAAAC,iBAAA,eAAAC,kBAAA,CAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,QAAA;QAAA,OAAAH,kBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAEAhC,KAAA,CAAAiC,GAAA,CACA,sCACA;YAAA;cAFAN,QAAA,GAAAG,QAAA,CAAAI,IAAA;cAGA,KAAAtB,SAAA,GAAAe,QAAA,CAAAxB,IAAA;cAAA2B,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAK,EAAA,GAAAL,QAAA;cAEAX,OAAA,CAAAiB,KAAA,+BAAAN,QAAA,CAAAK,EAAA;YAAA;YAAA;cAAA,OAAAL,QAAA,CAAAO,IAAA;UAAA;QAAA,GAAAX,OAAA;MAAA;MAAA,SAAAL,gBAAA;QAAA,OAAAC,gBAAA,CAAAgB,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAAlB,eAAA;IAAA;IAGAmB,WAAA;MAAA,IAAAC,YAAA,GAAAlB,iBAAA,eAAAC,kBAAA,CAAAC,IAAA,UAAAiB,SAAA;QAAA,IAAAC,EAAA,EAAAhB,QAAA;QAAA,OAAAH,kBAAA,CAAAI,IAAA,UAAAgB,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAd,IAAA,GAAAc,SAAA,CAAAb,IAAA;YAAA;cACAW,EAAA,OAAAG,QAAA;cACA,KAAA1C,QAAA,CAAAI,IAAA,QAAAC,YAAA;;cAEA;cACAkC,EAAA,CAAAI,MAAA,cAAA3C,QAAA,CAAAC,IAAA;cACAsC,EAAA,CAAAI,MAAA,mBAAA3C,QAAA,CAAAE,SAAA;cACAqC,EAAA,CAAAI,MAAA;cACAJ,EAAA,CAAAI,MAAA,cAAAtC,YAAA;cACAU,OAAA,CAAAC,GAAA,gBAAAuB,EAAA;cAAAE,SAAA,CAAAd,IAAA;cAAAc,SAAA,CAAAb,IAAA;cAAA,OAGAhC,KAAA,CAAAgD,IAAA,CACA,yCACAL,EACA;YAAA;cAHAhB,QAAA,GAAAkB,SAAA,CAAAX,IAAA;cAKA,KAAAe,KAAA;cACA,KAAA7C,QAAA,CAAAO,IAAA;cACA,KAAAP,QAAA,CAAAM,OAAA;cAAAmC,SAAA,CAAAb,IAAA;cAAA;YAAA;cAAAa,SAAA,CAAAd,IAAA;cAAAc,SAAA,CAAAV,EAAA,GAAAU,SAAA;cAEA1B,OAAA,CAAAC,GAAA,aAAAyB,SAAA,CAAAV,EAAA;YAAA;YAAA;cAAA,OAAAU,SAAA,CAAAR,IAAA;UAAA;QAAA,GAAAK,QAAA;MAAA;MAAA,SAAAF,YAAA;QAAA,OAAAC,YAAA,CAAAH,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAAC,WAAA;IAAA;EAGA;AACA"}]}