{"remainingRequest":"C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\src\\pages\\Assignment\\ProductForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\src\\pages\\Assignment\\ProductForm.vue","mtime":1690914385338},{"path":"C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1690342753077},{"path":"C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1690342753580},{"path":"C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1690342753077},{"path":"C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1690342762655}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBDYXJkIGZyb20gInNyYy9jb21wb25lbnRzL0NhcmRzL0NhcmQudnVlIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBDYXJkLAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByb2R1Y3Q6IHsKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBwaWN0dXJlOiAiIiwKICAgICAgICBjYXRlZ29yeV9pZDogIiIsCiAgICAgICAgcmVsb2FkS2V5OiAwLAogICAgICB9LAogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICBkYXRhRnJvbVBhcmVudDogewogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVGaWxlVXBsb2FkKGV2ZW50KSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRGaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdOwogICAgICBjb25zb2xlLmxvZygiZmlsZSIsIHRoaXMuc2VsZWN0ZWRGaWxlKTsKICAgIH0sCiAgICBhc3luYyBhZGRQcm9kdWN0KCkgewogICAgICBjb25zdCBmZCA9IG5ldyBGb3JtRGF0YSgpOwogICAgICB0aGlzLnByb2R1Y3QuZmlsZSA9IHRoaXMuc2VsZWN0ZWRGaWxlOwoKICAgICAgLy8gQXBwZW5kIHByb3BlcnRpZXMgZnJvbSBjYXRlZ29yeURhdGEgdG8gdGhlIEZvcm1EYXRhCiAgICAgIGZkLmFwcGVuZCgibmFtZSIsIHRoaXMucHJvZHVjdC5uYW1lKTsKICAgICAgZmQuYXBwZW5kKCJjYXRlZ29yeV9pZCIsIE51bWJlcih0aGlzLnByb2R1Y3QuY2F0ZWdvcnlfaWQpKTsKICAgICAgZmQuYXBwZW5kKCJwaWN0dXJlIiwgInJycnJyIik7CiAgICAgIGZkLmFwcGVuZCgiZmlsZSIsIHRoaXMuc2VsZWN0ZWRGaWxlKTsKCiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KAogICAgICAgICAgImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvcHJvZHVjdHMvIiwKICAgICAgICAgIGZkCiAgICAgICAgKTsKCiAgICAgICAgdGhpcy4kZW1pdCgicHJvZHVjdC1jcmVhdGVkIik7CiAgICAgICAgdGhpcy5wcm9kdWN0LmluZm8gPSAiYWxlcnQgYWxlcnQtaW5mbyB0ZXh0LWRhcmsiOwogICAgICAgIHRoaXMucHJvZHVjdC5tZXNzYWdlID0gIlByb2R1Y3QgQ3JlYXRlZCBTdWNjZXNzZnVsbHkhIjsKICAgICAgICB0aGlzLnByb2R1Y3QubmFtZSA9ICIiOwogICAgICAgIHRoaXMucHJvZHVjdC5jYXRlZ29yeV9pZCA9ICIiOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKCJSZXN1bHQ6ICIsIGVycm9yKTsKICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["ProductForm.vue"],"names":[],"mappings":";AAiDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ProductForm.vue","sourceRoot":"src/pages/Assignment","sourcesContent":["<template>\n  <card>\n    <form @submit.prevent=\"addProduct\" enctype=\"multipart/form-data\">\n      <div class=\"row\">\n        <div class=\"col-md-6\">\n          <base-input\n            type=\"text\"\n            label=\"Product\"\n            :disabled=\"false\"\n            placeholder=\"ss\"\n            v-model=\"product.name\"\n          >\n          </base-input>\n        </div>\n\n        <div class=\"col-md-6\">\n          <div class=\"form-group\">\n            <label for=\"Category\">Category:</label>\n            <select class=\"form-control\" v-model=\"product.category_id\" required>\n              <option\n                v-for=\"product in dataFromParent\"\n                :key=\"product.id\"\n                :value=\"product.id\"\n              >\n                {{ product.name }}\n              </option>\n            </select>\n          </div>\n        </div>\n\n        <div class=\"col-md-12\">\n          <div class=\"form-group\">\n            <label for=\"ProductImage\">Picture: &nbsp;</label>\n            <input type=\"file\" @change=\"handleFileUpload\" />\n          </div>\n        </div>\n      </div>\n\n      <div class=\"text-center\">\n        <button type=\"submit\" class=\"btn btn-info btn-fill float-right\">\n          Add Product\n        </button>\n      </div>\n\n      <div class=\"clearfix\"></div>\n    </form>\n  </card>\n</template>\n<script>\nimport Card from \"src/components/Cards/Card.vue\";\nimport axios from \"axios\";\n\nexport default {\n  components: {\n    Card,\n  },\n  data() {\n    return {\n      product: {\n        name: \"\",\n        picture: \"\",\n        category_id: \"\",\n        reloadKey: 0,\n      },\n    };\n  },\n  props: {\n    dataFromParent: {\n      required: true,\n    },\n  },\n  methods: {\n    handleFileUpload(event) {\n      this.selectedFile = event.target.files[0];\n      console.log(\"file\", this.selectedFile);\n    },\n    async addProduct() {\n      const fd = new FormData();\n      this.product.file = this.selectedFile;\n\n      // Append properties from categoryData to the FormData\n      fd.append(\"name\", this.product.name);\n      fd.append(\"category_id\", Number(this.product.category_id));\n      fd.append(\"picture\", \"rrrrr\");\n      fd.append(\"file\", this.selectedFile);\n\n      try {\n        const response = await axios.post(\n          \"http://localhost:3000/api/products/\",\n          fd\n        );\n\n        this.$emit(\"product-created\");\n        this.product.info = \"alert alert-info text-dark\";\n        this.product.message = \"Product Created Successfully!\";\n        this.product.name = \"\";\n        this.product.category_id = \"\";\n      } catch (error) {\n        console.log(\"Result: \", error);\n      }\n    },\n  },\n};\n</script>\n<style></style>\n"]}]}