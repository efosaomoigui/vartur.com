{"remainingRequest":"C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\src\\pages\\UserProfile\\CategoryForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\src\\pages\\UserProfile\\CategoryForm.vue","mtime":1690915019512},{"path":"C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1690342753077},{"path":"C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1690342753580},{"path":"C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1690342753077},{"path":"C:\\Users\\Efe-Dev\\Desktop\\vartur.com.fastify\\vue-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1690342762655}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBDYXJkIGZyb20gInNyYy9jb21wb25lbnRzL0NhcmRzL0NhcmQudnVlIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBDYXJkLAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNhdGVnb3J5OiB7CiAgICAgICAgbmFtZTogIiIsCiAgICAgICAgcGFyZW50X2lkOiAwLAogICAgICAgIHBpY3R1cmU6ICIiLAogICAgICAgIGZpbGU6ICIiLAogICAgICB9LAogICAgICBzZWxlY3RlZEZpbGU6IG51bGwsCiAgICAgIG1lc3NhZ2U6ICIiLAogICAgICBpbmZvOiAiIiwKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgcmVsb2FkS2V5OiAwLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUZpbGVVcGxvYWQoZXZlbnQpIHsKICAgICAgdGhpcy5zZWxlY3RlZEZpbGUgPSBldmVudC50YXJnZXQuZmlsZXNbMF07CiAgICB9LAoKICAgIGFzeW5jIGZldGNoQ2F0ZWdvcmllcygpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldCgKICAgICAgICAgICJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2NhdGVnb3JpZXMiCiAgICAgICAgKTsKICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgZmV0Y2hpbmcgY2F0ZWdvcmllczoiLCBlcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBhZGRDYXRlZ29yeSgpIHsKICAgICAgY29uc3QgZmQgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgdGhpcy5jYXRlZ29yeS5maWxlID0gdGhpcy5zZWxlY3RlZEZpbGU7CgogICAgICAvLyBBcHBlbmQgcHJvcGVydGllcyBmcm9tIGNhdGVnb3J5RGF0YSB0byB0aGUgRm9ybURhdGEKICAgICAgZmQuYXBwZW5kKCJuYW1lIiwgdGhpcy5jYXRlZ29yeS5uYW1lKTsKICAgICAgZmQuYXBwZW5kKCJwYXJlbnRfaWQiLCB0aGlzLmNhdGVnb3J5LnBhcmVudF9pZCk7CiAgICAgIGZkLmFwcGVuZCgicGljdHVyZSIsICJycnJyciIpOwogICAgICBmZC5hcHBlbmQoImZpbGUiLCB0aGlzLnNlbGVjdGVkRmlsZSk7CgogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdCgKICAgICAgICAgICJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2NhdGVnb3JpZXMvIiwKICAgICAgICAgIGZkCiAgICAgICAgKTsKCiAgICAgICAgdGhpcy4kZW1pdCgiY2F0ZWdvcnktY3JlYXRlZCIpOwogICAgICAgIHRoaXMuY2F0ZWdvcnkuaW5mbyA9ICJhbGVydCBhbGVydC1pbmZvIHRleHQtZGFyayI7CiAgICAgICAgdGhpcy5jYXRlZ29yeS5tZXNzYWdlID0gIkNhdGVnb3J5IENyZWF0ZWQgU3VjY2Vzc2Z1bGx5ISI7CiAgICAgICAgdGhpcy5jYXRlZ29yeS5uYW1lID0gIiI7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coIlJlc3VsdDogIiwgZXJyb3IpOwogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["CategoryForm.vue"],"names":[],"mappings":";AA2CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CategoryForm.vue","sourceRoot":"src/pages/UserProfile","sourcesContent":["<template>\n  <card>\n    <!-- <pre>\n      {{ JSON.stringify(category, null, 2) }}\n    </pre> -->\n    <form @submit.prevent=\"addCategory\" enctype=\"multipart/form-data\">\n      <div class=\"row\">\n        <div class=\"col-12\">\n          <div v-bind:class=\"category.info\">\n            {{ category.message }}\n          </div>\n        </div>\n      </div>\n\n      <div class=\"row\">\n        <div class=\"col-md-12\">\n          <base-input\n            type=\"text\"\n            label=\"Category\"\n            :disabled=\"false\"\n            placeholder=\"\"\n            v-model=\"category.name\"\n          >\n          </base-input>\n        </div>\n        <div class=\"col-md-12\">\n          <div class=\"form-group\">\n            <label for=\"picture\">Picture: &nbsp;</label>\n            <input type=\"file\" @change=\"handleFileUpload\" />\n          </div>\n        </div>\n      </div>\n\n      <div class=\"text-center\">\n        <button type=\"submit\" class=\"btn btn-info btn-fill float-right\">\n          Add Parent Category\n        </button>\n      </div>\n      <div class=\"clearfix\"></div>\n    </form>\n  </card>\n</template>\n<script>\nimport axios from \"axios\";\nimport Card from \"src/components/Cards/Card.vue\";\n\nexport default {\n  components: {\n    Card,\n  },\n  data() {\n    return {\n      category: {\n        name: \"\",\n        parent_id: 0,\n        picture: \"\",\n        file: \"\",\n      },\n      selectedFile: null,\n      message: \"\",\n      info: \"\",\n      tableData: [],\n      reloadKey: 0,\n    };\n  },\n  methods: {\n    handleFileUpload(event) {\n      this.selectedFile = event.target.files[0];\n    },\n\n    async fetchCategories() {\n      try {\n        const response = await axios.get(\n          \"http://localhost:3000/api/categories\"\n        );\n        this.tableData = response.data;\n      } catch (error) {\n        console.error(\"Error fetching categories:\", error);\n      }\n    },\n    async addCategory() {\n      const fd = new FormData();\n      this.category.file = this.selectedFile;\n\n      // Append properties from categoryData to the FormData\n      fd.append(\"name\", this.category.name);\n      fd.append(\"parent_id\", this.category.parent_id);\n      fd.append(\"picture\", \"rrrrr\");\n      fd.append(\"file\", this.selectedFile);\n\n      try {\n        const response = await axios.post(\n          \"http://localhost:3000/api/categories/\",\n          fd\n        );\n\n        this.$emit(\"category-created\");\n        this.category.info = \"alert alert-info text-dark\";\n        this.category.message = \"Category Created Successfully!\";\n        this.category.name = \"\";\n      } catch (error) {\n        console.log(\"Result: \", error);\n      }\n    },\n  },\n};\n</script>\n<style></style>\n"]}]}